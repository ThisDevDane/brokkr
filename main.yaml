---
- hosts: localhost
  connection: local

  vars:
    is_wsl: "{% if ansible_env.WSL_DISTRO_NAME is defined %}true{% else %}false{%endif%}"

  roles:
    - role: system
    - role: git
    - role: zsh
    - role: oh-my-zsh
    - role: docker
      when: is_wsl|default(false)|bool == false
    - role: neovim
    - role: asdf
      become: true
      asdf_user: "{{ ansible_user_id }}"
      asdf_plugins:
        - name: "nodejs"
          version: ["lts"]
          global: "lts"
        - name: "kubectl"
          version: ["1.23", "1.24"]
          global: "1.23"

